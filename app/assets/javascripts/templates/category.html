<div class="container-fluid row">
  <div class="sidebar col-lg-3 visible-lg">
    <h4><a href="#/journeys/{{journey.id}}">Back</a></h4>
    <h4 class="cell-header">Notes:</h4>
    <ul class="note-list">
      <li ng-repeat="note in notes" id="id{{note.id}}" class="cell-list">
        <a href="">{{note.title}}</a>
        <button class="delete-button" ng-click="deleteNote(note)">
          <span class=" glyphicon glyphicon-remove-sign"></span>
        </button>
      </li>
    </ul>
    <h4 ng-click="displayForm()" class="form-header"> New Note</h4>
    <div class="form-container-journey">
      <form ng-show="showForm" ng-submit="createNote()">
        <h2 class="form-header">New Note</h2>
        <!-- <h5>Title</h5> -->
        <input class="col-xs-12" type="text" ng-model="note.title" placeholder="Title"><br>
        <!-- <h5>Synopsis</h5> -->
        <textarea class="col-xs-12" ng-model="note.synopsis" placeholder="Explain how you understand it"></textarea><br>
        <!-- <h5>Code</h5> -->
        <textarea class="col-xs-12 visible-lg" ng-model="note.code" placeholder="Code here"></textarea><br>
        <span class="check col-xs-12"><p>public? </p><input type="checkbox" ng-model="note.public_bool"></span>
        <input class="col-xs-12" type="submit" value="Save Note">
      </form>
    </div>
  </div>

<h2 class="page-header col-lg-8 visible-lg">
  {{journey.title}} += {{category.title}}
</h2>
<!-- <img id="plus-pic" src="plusequals.png">  -->

<div class="notes-container-global col-lg-8 col-xs-12">
  <div class="notes">
    <div ng-repeat="note in notes" id="{{note.id}}" class="ind-note-container">
      <div ng-hide="editNoteFlag[{{note.id}}]" id="show-note-{{ note.id }}">

        <div class="note-head-container row">
          <h3 class="note-title col-xs-10">{{note.title}}</h3>
          <span class="note-sidebar-container glyphicon glyphicon-cog col-xs-2"></span>
        </div>

        <h4 class="note-header">How I understand it:</h4>
        <p class="note-text"> {{note.synopsis}}</p>
        <h4 class="note-header">When I got it to work: </h4>
        <pre class="note-code" ng-bind-html="to_trusted((note.code|pretty))"></pre>
        <button class="edit-button col-xs-12" ng-click="showNoteForm(note)">Edit Note</button>
      </div>
      <div class="form-container-edit">
        <div ng-show="editNoteFlag[{{note.id}}]" id="edit-note-{{ note.id }}">
          <form ng-submit="editNote(note)">
                <h3 class="form-header col-xs-12 col-pull-12"> Title: </h3>
                  <input class="col-xs-12" type="text" ng-model="editingNote.title">
                <h3 class="form-header col-xs-12">How do you understand it?: </h3>
                  <textarea class="col-xs-12" ng-model="editingNote.synopsis"></textarea>
                <h3 class="form-header col-xs-12">Did you get it to work?: </h3>
                  <textarea class="col-xs-12" ng-model="editingNote.code"></textarea>
                  <div class="col-xs-12 submit-container">
                    <input type="submit" value="Save Note Edits">
                  </div>
              </form>
        </div>
      </div>

      <div class="snippets-container">
        <h3 class="note-title snippet-title">Snippets for {{note.title}}</h3>
          <div class="show-snippets-container col-xs-11">

            <div class="single-snippet" ng-repeat="snippet in note.snippets">
              <div class="single-snippet-content" ng-show="!toggle">
                <h4 class="note-header">Description:</h4>
                <p class="note-text">{{snippet.description}}</p>
                <h4 class="note-header">Text:</h4>
                <p class="note-text">{{snippet.text}}</p>
                <h4 class="note-header">URL:</h4>
                <p class="note-text">{{snippet.web_url}}</p>
                <button class="edit-button col-xs-12 lighter-edit" ng-click="toggle = !toggle">Edit Snippet</button>
              </div>

              <div class="form-container-edit" ng-show="toggle">
                <form ng-submit="saveSnipEdit(note, snippet)">
                  <h3 class="form-header col-xs-12 col-pull-12"> Snippet description</h3>
                    <input class="col-xs-12" type="text" ng-model="snippet.description">
                  <h3 class="form-header col-xs-12 col-pull-12">Snippet Content</h3>
                    <textarea class="col-xs-12" ng-model="snippet.text" placeholder="copy and paste your snippet here"></textarea>
                  <h3 class="form-header col-xs-12 col-pull-12">Snippet Url:</h3>
                    <input class="col-xs-12" type="text" ng-model="snippet.web_url"></p>
                  <div class="col-xs-12 submit-container">
                    <input type="submit" value="Save snippet" ng-click="toggle = !toggle">
                  </div>
                </form>
              </div>
            </div>

            <button class="edit-button col-xs-12" ng-click="showSnipForm(note)">Add Snippet</button>
            <div class="form-container-edit">
              <div ng-show="visibleSnipForm[{{note.id}}]"   class="snipForm">
                <form ng-submit="saveSnip(note)">
                  <h3 class="form-header col-xs-12 col-pull-12">Snippet description</h3>
                    <input class="col-xs-12" type="text" ng-model="snippet.description">
                  <h3 class="form-header col-xs-12 col-pull-12">Snippet Content</h3>
                    <textarea class="col-xs-12" ng-model="snippet.text" placeholder="copy and paste your snippet here"></textarea>
                  <h3 class="form-header col-xs-12 col-pull-12">Snippet Url:</h3>
                    <input class="col-xs-12" ng-model="snippet.web_url">
                  <div class="col-xs-12 submit-container">
                    <input type="submit" value="Save snippet">
                  </div>
                </form>
              </div>
            </div>
          </div>

            <div class="unassigned-snippets-container col-xs-12">
              <h4 class="note-title">Unassigned Snippets:</h4>
              <div class="single-unassigned-snippet" ng-repeat="snippet in unassignedSnippets">
                <p>{{snippet.text | limitTo:140}}...
                  <span>
                    <button ng-click="addToNote(note, snippet)">Add to Note</button>
                  </span>
                </p>
              </div>
              <hr>
          </div>
        </div>
        <!-- end of note repeat -->


      </div>


    </div>


  </div>
</div>